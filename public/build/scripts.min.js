+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.parent().find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover"},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery);var canvas={update:!0,position:"front",preload:null,details:[],load:function(){function a(){console.log("handleFileLoad")}function b(){console.log("handleOverallProgress")}function c(){console.log("handleFileError")}null!=this.preload&&this.preload.close(),$(".preloader").show(),$(".car").hide(),preload.addEventListener("fileload",a),preload.addEventListener("progress",b),preload.addEventListener("error",c)},init:function(){var a=document.getElementById("canvas");this.stage=new createjs.Stage(a),createjs.Touch.enable(this.stage),this.stage.enableMouseOver(10),this.stage.mouseMoveOutside=!0;var b=new Image;b.src="img/stageFront.jpg",b.onload=canvas.handleImageLoad.bind(canvas),this.nav=$(".car li")},handleImageLoad:function(a){this.update=!0;var b,c=a.target,d=new createjs.Container;this.stage.addChild(d),b=new createjs.Bitmap(c),b.x=0,b.y=0,d.addChild(b),createjs.Ticker.addEventListener("tick",canvas.tick.bind(canvas)),canvas.renderImage()},renderImage:function(){var a=this.details;a.forEach(function(a,b){var c=new Image,d=a[b].name;("front"!==canvas.position||"v18"!==d&&"v17"!==d&&"v19"!==d&&"v20"!==d)&&("back"!==canvas.position||"v2"!==d&&"v11"!==d&&"v13"!==d&&"v16"!==d&&"v20"!==d)&&("top"!==canvas.position||"v17"!==d&&"20"!==d)&&(c.src="img/"+d+"-"+canvas.position+".png",c.onload=function(b){canvas.handleDetailLoad(b,a)})})},handleDetailLoad:function(a){var b,c=a.target,d=new createjs.Container;this.stage.addChild(d),this.update=!0,b=new createjs.Bitmap(c),b.name=name,b.x=0,b.y=0,d.addChild(b),function(a){b.onMouseOver=function(){console.log(a.name)},b.onMouseOut=function(){console.log(a.name)}}(b),createjs.Ticker.addEventListener("tick",canvas.tick.bind(canvas))},tick:function(a){this.update&&(this.update=!1,this.stage.update(a))},next:function(){"front"===this.position?this.position="back":"back"===this.position?this.position="top":"top"===this.position&&(this.position="front"),this.renderStage()},prev:function(){"back"===this.position?this.position="front":"front"===this.position?this.position="top":"top"===this.position&&(this.position="back"),this.renderStage()},renderStage:function(a){var b=new Image;a&&(this.position=a),this.stage.clear(),b.src="img/stage"+this.position+".jpg",b.onload=canvas.handleImageLoad.bind(canvas),this.nav.removeClass(),"front"===this.position?this.nav.eq(0).addClass("active"):"back"===this.position?this.nav.eq(1).addClass("active"):"top"===this.position&&this.nav.eq(2).addClass("active")}};$(document).ready(function(){canvas.init(),$.post("/",function(a){canvas.details.push(a),canvas.renderImage()}).done(function(){console.log("items loaded")}).fail(function(){console.log("items loaded error")})});var socket=io.connect(window.location.origin);socket.on("details",function(a){console.log(a)});